---
import { mapPosts } from "../../../utils/post.utils";
import TagsLayout from "../../../layouts/TagsLayout.astro";

const { tag } = Astro.params;

// Use Astro.glob() to fetch all posts, and then sort them by date.
const posts = await Astro.glob("../*.{md,mdx}");
const mappedPosts = mapPosts(posts);

export function getStaticPaths() {
  return [
    { params: { tag: "life" } },
    { params: { tag: "language" } },
    { params: { tag: "Tech" } },
    { params: { tag: "knit&crotchet" } },
    { params: { tag: "art" } },
    { params: { tag: "git" } },
    { params: { tag: "memo" } },
    { params: { tag: "list" } },
    { params: { tag: "Error" } },
    { params: { tag: "dotNET" } },
    { params: { tag: "VSCode" } },
    { params: { tag: "Mac" } },
    { params: { tag: "Slack" } },
    { params: { tag: "note" } },
    { params: { tag: "Astro" } },
    { params: { tag: "Markdown" } },
    { params: { tag: "learning" } },
    { params: { tag: "tools" } },
    { params: { tag: "book" } },
    { params: { tag: "video" } },
    { params: { tag: "updated" } },
    { params: { tag: "AI" } },
    { params: { tag: "Linux" } },
    { params: { tag: "Github" } },
    { params: { tag: "Next.js" } },
    { params: { tag: "React" } },
  ];
}
---

<TagsLayout posts={mappedPosts} tag={tag} />
